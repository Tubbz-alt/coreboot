/* SPDX-License-Identifier: GPL-2.0-only */

#include <soc/gpio.h>
#include "gpio.h"

/*
 * As a rule of thumb, GPIO pins used by coreboot should be initialized at
 * bootblock while GPIO pins used only by the OS should be initialized at
 * ramstage.
 */
//TODO
static const struct soc_amd_gpio gpio_set_stage_ram[] = {
		PAD_CFG_STRUCT_FLAGS(GPIO_0, 0x00, 0x00140000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_1, 0x00, 0x00140000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_2, 0x00, 0x00040000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_3, 0x00, 0x00c40000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_4, 0x00, 0x00040000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_5, 0x00, 0x00840000, /* TODO */ 0),
		PAD_SCI(GPIO_6, PULL_NONE, EDGE_LOW), // SCI#
		PAD_SCI(GPIO_8, PULL_NONE, EDGE_LOW), // SWI#
		PAD_CFG_STRUCT_FLAGS(GPIO_9, 0x00, 0x00d40000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_10, 0x00, 0x00140000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_11, 0x00, 0x00140000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_12, 0x00, 0x00040000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_16, 0x01, 0x00041b40, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_17, 0x01, 0x00a40000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_19, 0x01, 0x00040000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_20, 0x01, 0x00040000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_21, 0x00, 0x00040000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_22, 0x01, 0x00040000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_23, 0x00, 0x00940000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_26, 0x00, 0x00c40000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_27, 0x00, 0x00040000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_28, 0x00, 0x00240000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_29, 0x00, 0x00240000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_30, 0x00, 0x00140000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_31, 0x00, 0x00040000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_32, 0x00, 0x00040000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_40, 0x00, 0x00140000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_42, 0x00, 0x00140000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_63, 0x00, 0xff000000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_70, 0x00, 0x00240000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_74, 0x00, 0x00040000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_75, 0x00, 0x00040000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_76, 0x01, 0x00140000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_84, 0x01, 0x00840000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_85, 0x00, 0x00840000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_86, 0x00, 0x00140000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_87, 0x00, 0x00140000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_88, 0x00, 0x00140000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_89, 0x01, 0x00040000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_90, 0x00, 0x00d40000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_91, 0x00, 0x00040000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_92, 0x00, 0x001c0000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_104, 0x00, 0x00140000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_105, 0x00, 0x00140000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_106, 0x00, 0x00140000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_107, 0x00, 0x00140000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_108, 0x02, 0x00c00000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_109, 0x00, 0x00040000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_113, 0x00, 0x00040000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_114, 0x00, 0x00040000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_115, 0x00, 0x001c0000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_116, 0x01, 0x00840000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_117, 0x00, 0x00240000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_118, 0x00, 0x00140000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_119, 0x00, 0x00140000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_120, 0x00, 0x00140000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_121, 0x00, 0x00240000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_122, 0x00, 0x00140000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_129, 0x00, 0x00140000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_130, 0x01, 0x00d40000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_131, 0x03, 0x00d40000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_132, 0x00, 0x001c0000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_133, 0x01, 0x00140000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_134, 0x00, 0x00140000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_135, 0x02, 0x00d40000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_136, 0x01, 0x00040000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_137, 0x02, 0x00d40000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_138, 0x01, 0x00a40000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_139, 0x00, 0x00240000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_140, 0x02, 0x00d40000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_141, 0x00, 0x00240000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_142, 0x02, 0x00140000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_143, 0x01, 0x00c40000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_144, 0x00, 0x00240000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_145, 0x00, 0x00040000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_146, 0x00, 0x00040000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_147, 0x00, 0x00040000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_148, 0x00, 0x00040000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_149, 0x00, 0x00040000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_150, 0x00, 0x00040000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_151, 0x00, 0x00040000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_152, 0x00, 0x00040000, /* TODO */ 0),
		PAD_CFG_STRUCT_FLAGS(GPIO_191, 0x00, 0x1f000000, /* TODO */ 0),
};

void mainboard_program_gpios(void)
{
	program_gpios(gpio_set_stage_ram, ARRAY_SIZE(gpio_set_stage_ram));
}
